<% title = `Product ${product.product_id}`; %>
<div>
  <%= product.product_id %> <%= product.name %> <%= product.description %> <%=
  product.price %> <%= product.quantity_in_stock %> <%= product.category_id %>
  <%= product.brand_id %> <%= product.created_at %> <%= product.updated_at %>
</div>
<a href="/product/<%= product.product_id %>/update">Update Product</a>
<a href="#" class="delete-product">Delete Product</a>

<script>
  // Ask for confirmation on delete
  document.querySelectorAll(".delete-product").forEach((link) => {
    link.addEventListener("click", function (event) {
      event.preventDefault();

      if (confirm("Are you sure you want to delete this product?")) {
        fetch("/product/<%= product.product_id %>/delete", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
        })
          .then((response) => {
            if (response.ok) {
              window.location.href = "/";
            } else {
              alert("Error deleting product");
            }
          })
          .catch((error) => console.error("Error:", error));
      }
    });
  });
</script>
