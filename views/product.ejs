<% title = `Product ${product.product_id}`; %>
<div class="bg-white p-6 rounded-lg shadow-md border border-gray-200 mb-6">
  <h2 class="text-2xl font-bold text-green-400 mb-4"><%= product.name %></h2>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <% const details = [ { label: "ID", value: product.product_id }, { label:
    "Description", value: product.description }, { label: "Price", value:
    `$${product.price}` }, { label: "Quantity in Stock", value:
    product.quantity_in_stock }, { label: "Category ID", value:
    product.category_id }, { label: "Brand ID", value: product.brand_id }, {
    label: "Created At", value: product.created_at }, { label: "Updated At",
    value: product.updated_at } ]; %> <% details.forEach(detail => { %>
    <div class="border border-gray-300 p-4 rounded">
      <div class="text-sm text-gray-500"><%= detail.label %></div>
      <div class="font-bold text-gray-800"><%= detail.value %></div>
    </div>
    <% }) %>
  </div>
</div>

<div class="mt-6 space-x-4">
  <a
    href="/product/<%= product.product_id %>/update"
    class="bg-green-500 text-white py-2 px-4 rounded hover:bg-green-600 transition duration-200"
    >Update Product</a
  >

  <a
    href="#"
    class="delete-product bg-red-500 text-white py-2 px-4 rounded hover:bg-red-600 transition duration-200"
    >Delete Product</a
  >
</div>

<script>
  document.querySelectorAll(".delete-product").forEach((link) => {
    link.addEventListener("click", function (event) {
      event.preventDefault();
      if (confirm("Are you sure you want to delete this product?")) {
        fetch("/product/<%= product.product_id %>/delete", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
        })
          .then((response) => {
            if (response.ok) {
              window.location.href = "/";
            } else {
              alert("Error deleting product");
            }
          })
          .catch((error) => console.error("Error:", error));
      }
    });
  });
</script>
